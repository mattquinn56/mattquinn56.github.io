<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Contact Matthew Quinn</title>
  <meta name="description" content="Contact Matthew Quinn — graphics engineer & visualization developer." />

  <!-- Styles (project-site safe) -->
  <link rel="preload" href="../styles.css" as="style">
  <link rel="stylesheet" href="../styles.css">

  <!-- Favicon -->
  <link rel="shortcut icon" href="../images/cpu.ico" />
  <link rel="icon" href="../images/cpu.ico" />
</head>
<body>
  <a href="#main" class="visually-hidden">Skip to content</a>

  <!-- Header / Nav -->
  <header class="site-header" role="banner">
    <div class="container navbar">
      <a class="brand" href="../index.html" aria-label="Home">
        <span>Matthew Quinn</span>
      </a>
      <nav class="nav" aria-label="Primary">
        <a href="../index.html">Home</a>
        <a href="../portfolio/index.html">Portfolio</a>
        <a href="../portfolio-older/index.html">Older</a>
        <a href="index.html" aria-current="page">Contact</a>
      </nav>
    </div>
  </header>

  <main id="main" class="section container">
    <div class="section-header">
      <div>
        <div class="eyebrow">Get in touch</div>
        <h1>Contact</h1>
      </div>
      <div>
        <a class="btn btn-ghost" href="mailto:mtquinn56@gmail.com">Email directly</a>
      </div>
    </div>

    <p class="muted prose">Feel free to contact me for any reason! Use the form below or email me directly at <a href="mailto:mtquinn56@gmail.com">mtquinn56@gmail.com</a>.</p>

    <form id="contact-form" class="form" action="#" method="POST" novalidate>
      <!-- Honeypot (spam trap) -->
      <input type="text" name="website" autocomplete="off" tabindex="-1" class="hidden" aria-hidden="true">

      <div class="form-row">
        <div>
          <label class="label" for="name">Name</label>
          <input class="input" id="name" name="name" type="text" autocomplete="name" required placeholder="Philip J. Fry" />
        </div>
        <div>
          <label class="label" for="email">Email</label>
          <input class="input" id="email" name="email" type="email" autocomplete="email" required placeholder="you@example.com" />
        </div>
      </div>

      <div>
        <label class="label" for="subject">Subject <span class="muted">(optional)</span></label>
        <input class="input" id="subject" name="subject" type="text" placeholder="Re: your car’s extended warranty" />
      </div>

      <div>
        <label class="label" for="message">Message</label>
        <textarea class="textarea" id="message" name="message" required placeholder="Say hello and share a few details…"></textarea>
      </div>

      <div class="form-row">
        <button class="btn btn-primary" type="submit">Send Message</button>
        <span id="form-status" class="form-msg" aria-live="polite"></span>
      </div>

      <!-- noscript fallback -->
      <noscript>
        <p class="form-msg err">JavaScript is disabled. Please email me at <a href="mailto:mtquinn56@gmail.com">mtquinn56@gmail.com</a>.</p>
      </noscript>
    </form>
  </main>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="container row">
      <small>© <span id="year"></span> Matthew Quinn</small>
      <div>
        <a href="mailto:mtquinn56@gmail.com">mtquinn56@gmail.com</a>
        · <a href="https://github.com/mattquinn56" target="_blank" rel="noopener">GitHub</a>
        · <a href="https://www.linkedin.com/in/matthew-quinn-592b5b175/" target="_blank" rel="noopener">LinkedIn</a>
        · <a href="../you-are-here/index.html">Website</a>
      </div>
    </div>
  </footer>

  <script>
    (() => {
      // Update year
      const y = document.getElementById('year');
      if (y) y.textContent = new Date().getFullYear();

      // Contact form logic
      const form = document.getElementById('contact-form');
      const statusEl = document.getElementById('form-status');
      const submitBtn = form.querySelector('button[type="submit"]');

      // OPTIONAL: set your Formspree ID here (e.g., "abcdwxyz")
      const FORMSPREE_ID = ""; // ← put your Formspree form ID here when you have it

      if (FORMSPREE_ID) {
        form.action = `https://formspree.io/f/${FORMSPREE_ID}`;
      }

      function setStatus(msg, ok) {
        statusEl.textContent = msg;
        statusEl.className = 'form-msg ' + (ok ? 'ok' : 'err');
      }

      form.addEventListener('submit', async (e) => {
        e.preventDefault();

        // Honeypot: if filled, silently succeed
        if (form.website && form.website.value.trim() !== '') {
          setStatus('Thanks! (spam check)', true);
          form.reset();
          return;
        }

        const name = form.querySelector('[name="name"]').value.trim();
        const email = form.querySelector('[name="email"]').value.trim();
        const subject = form.querySelector('[name="subject"]').value.trim() || 'Portfolio contact';
        const message = form.querySelector('[name="message"]').value.trim();

        if (!email || !message) {
          setStatus('Please provide a valid email and a message.', false);
          return;
        }

        submitBtn.disabled = true;

        try {
          if (FORMSPREE_ID) {
            // Send to Formspree as JSON
            const res = await fetch(form.action, {
              method: 'POST',
              headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' },
              body: JSON.stringify({ name, email, subject, message })
            });
            if (res.ok) {
              setStatus('Thank you! I\'ll get back to you soon.', true);
              form.reset();
            } else {
              setStatus('Something went wrong sending the form :( you can email me directly instead.', false);
            }
          } else {
            // Mailto fallback
            const body = `From: ${name} <${email}>\n\n${message}`;
            const href = `mailto:mtquinn56@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
            window.location.href = href;
            setStatus('Opening your email client…', true);
          }
        } catch (err) {
          setStatus('Network error :( please try again or email me directly.', false);
        } finally {
          submitBtn.disabled = false;
        }
      });
    })();
  </script>
</body>
</html>
